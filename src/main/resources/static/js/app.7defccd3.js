(function(e){function t(t){for(var n,o,i=t[0],c=t[1],u=t[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},s=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"03c0":function(e,t,r){"use strict";r("4457")},"0c73":function(e,t,r){"use strict";r("6dff")},"0cbd":function(e,t,r){"use strict";r("206a")},"11ea":function(e,t,r){},"17a6":function(e,t,r){},"1b99":function(e,t,r){"use strict";r("8306")},"206a":function(e,t,r){},"282c":function(e,t,r){"use strict";r("700e")},"2e64":function(e,t,r){},"3d92":function(e,t,r){},4217:function(e,t,r){"use strict";r("67c3")},4457:function(e,t,r){},"456b":function(e,t,r){"use strict";r("c54c")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n,a,s,o,i=r("2b0e"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",[r("Header"),r("router-view")],1)},u=[],l=(r("96cf"),r("1da1")),d=r("d4ec"),f=r("bee2"),p=r("262e"),m=r("2caf"),h=r("1b40"),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("div",{staticClass:"header-content row center-xy"},[e.isAdmin?r("button",{staticClass:"admin-btn btn",on:{click:function(t){return e.navigateTo("Admin")}}},[e._v(" Admin ")]):e._e(),r("h1",{staticClass:"title pointer",on:{click:function(t){return e.navigateTo("Home")}}},[e._v("Wow forum")]),e.shouldShowLoginButton?r("button",{staticClass:"auth-btn btn",on:{click:function(t){return e.navigateTo("Login")}}},[e._v(" Login ")]):e._e(),e.currentUser?r("button",{staticClass:"auth-btn btn",on:{click:function(t){return e.logout()}}},[e._v(" Logout ")]):e._e()])])},v=[],g=(r("caad"),r("b0c0"),r("2532"),n=Object(h["a"])(),n(a=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){return Object(d["a"])(this,r),t.apply(this,arguments)}return Object(f["a"])(r,[{key:"navigateTo",value:function(e){this.$route.name!=e&&this.$router.push({name:e})}},{key:"logout",value:function(){this.$store.dispatch("logout")}},{key:"currentUser",get:function(){return this.$store.state.currentUser}},{key:"shouldShowLoginButton",get:function(){return"Login"!=this.$route.name&&!this.currentUser}},{key:"isAdmin",get:function(){var e;return null===(e=this.currentUser)||void 0===e?void 0:e.roles.includes("ADMIN")}}]),r}(h["c"]))||a),O=g,j=O,y=(r("788f"),r("2877")),w=Object(y["a"])(j,b,v,!1,null,"a6b9469a",null),_=w.exports,k=(s=Object(h["a"])({components:{Header:_}}),s(o=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){return Object(d["a"])(this,r),t.apply(this,arguments)}return Object(f["a"])(r,[{key:"created",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchForums");case 2:return e.next=4,this.$store.dispatch("getCurrentUser");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(h["c"]))||o),C=k,x=C,R=(r("5c0b"),Object(y["a"])(x,c,u,!1,null,null,null)),$=R.exports,U=(r("99af"),r("4de4"),r("7db0"),r("b64b"),r("2f62")),I=r("8c4f"),P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"view col center-y"},[r("div",{staticClass:"content"},[e._m(0),r("div",{staticClass:"forum-list"},[r("ForumList")],1)])])},F=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("h2",{staticClass:"title"},[e._v("Forums")])])}],A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"forum-list"},[r("div",{staticClass:"forums col"},e._l(e.forums,(function(e){return r("ForumItem",{key:e.id,attrs:{forum:e,fontSize:18,showDelete:!0}})})),1)])},N=[],T=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"forum",class:{pointer:e.canNavigate},on:{click:function(t){e.canNavigate&&e.navigate()}}},[r("div",{staticClass:"header row spread center-y"},[r("div",{staticClass:"col"},[r("h3",{staticClass:"title",style:e.styleObject},[e._v(e._s(e.forum.name))]),r("p",{staticClass:"description"},[e._v(e._s(e.forum.description))])]),e.isAdmin&&e.showDelete?r("div",{staticClass:"action-btn row center-xy pointer",on:{click:function(t){return t.stopPropagation(),e.deleteForum()}}},[r("DeleteIcon",{attrs:{title:"Delete forum",fillColor:"#FF0000"}})],1):e._e()]),r("div",{staticClass:"threads"},[r("ThreadList",{attrs:{threads:e.threads}})],1)])},L=[],E=r("6b7b"),D=r("257e"),M=r("ade3"),S=r("63ae"),W=(r("f890"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"thread-list"},[e.threads.length>0?r("div",{staticClass:"threads"},e._l(e.threads,(function(e){return r("ThreadItem",{key:e.id,attrs:{fontSize:18,thread:e}})})),1):e._e(),!e.threads.length>0?r("div",{staticClass:"threads"},[e._m(0)]):e._e()])}),z=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"thread"},[r("p",[e._v("No threads in this forum yet!")])])}],q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"thread row spread",class:{pointer:e.canNavigate},on:{click:function(t){t.stopPropagation(),e.canNavigate&&e.navigate()}}},[r("div",{staticClass:"header row center-y"},[r("h4",{staticClass:"title",style:e.styleObject},[e._v(" "+e._s(e.thread.topic)+" "),e.thread.locked?r("LockedThreadMessage"):e._e()],1)]),r("div",{staticClass:"action-buttons row center-xy"},[e.isModerator?r("div",{staticClass:"action-btn row center-xy pointer",on:{click:function(t){return t.stopPropagation(),e.toggleThreadLock()},mouseenter:function(t){return e.setLockHover(!0)},mouseleave:function(t){return e.setLockHover(!1)}}},[e.thread.locked?r("div",[e.lockHover?e._e():r("LockIcon",{attrs:{title:"Unlock thread",fillColor:"#FF0000"}}),e.lockHover?r("LockOpenIcon",{attrs:{title:"Unlock thread",fillColor:"#008000"}}):e._e()],1):e._e(),e.thread.locked?e._e():r("div",[e.lockHover?e._e():r("LockOpenIcon",{attrs:{title:"Lock thread",fillColor:"#008000"}}),e.lockHover?r("LockIcon",{attrs:{title:"Lock thread",fillColor:"#FF0000"}}):e._e()],1)]):e._e(),e.isModerator?r("div",{staticClass:"action-btn row center-xy pointer",on:{click:function(t){return t.stopPropagation(),e.deleteThread()}}},[r("DeleteIcon",{attrs:{title:"Delete thread",fillColor:"#FF0000"}})],1):e._e()])])},H=[],J=(r("d3b7"),r("5530"));function B(e,t){return K.apply(this,arguments)}function K(){return K=Object(l["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,Object(J["a"])(Object(J["a"])({},r),{},{credentials:"include"}));case 2:return n=e.sent,401===n.status&&Ha.commit("setCurrentUser",null),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}function G(e){var t=Ha.getters.currentUser;return(null===t||void 0===t?void 0:t.roles.includes("ADMIN"))||(null===t||void 0===t?void 0:t.moderates.includes(e))}var Q,V,X,Y,Z,ee,te,re,ne,ae,se,oe,ie,ce,ue,le,de,fe,pe,me,he,be,ve,ge,Oe,je,ye,we,_e,ke,Ce,xe,Re,$e,Ue,Ie,Pe,Fe,Ae,Ne,Te,Le,Ee,De,Me,Se,We,ze,qe,He,Je,Be,Ke,Ge,Qe,Ve,Xe,Ye,Ze,et,tt,rt,nt,at,st,ot,it,ct,ut,lt,dt,ft,pt,mt,ht,bt,vt,gt,Ot,jt,yt,wt,_t,kt,Ct,xt,Rt,$t,Ut,It,Pt,Ft,At,Nt,Tt,Lt,Et,Dt,Mt,St,Wt,zt,qt,Ht,Jt,Bt,Kt,Gt,Qt="http://localhost:3000/api",Vt=Qt+"/v1",Xt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Yt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"locked"},[e._v(" - "),r("span",{staticClass:"locked underline"},[e._v("LOCKED")])])}],Zt=(Q=Object(h["a"])(),Q(V=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){return Object(d["a"])(this,r),t.apply(this,arguments)}return r}(h["c"]))||V),er=Zt,tr=er,rr=(r("df4e"),Object(y["a"])(tr,Xt,Yt,!1,null,"041925c8",null)),nr=rr.exports,ar=(X=Object(h["a"])({components:{LockedThreadMessage:nr}}),Y=Object(h["b"])({required:!0}),Z=Object(h["b"])({default:24}),ee=Object(h["b"])({default:!0}),X((oe=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(E["a"])(Object(D["a"])(e),"thread",ne,Object(D["a"])(e)),Object(E["a"])(Object(D["a"])(e),"fontSize",ae,Object(D["a"])(e)),Object(E["a"])(Object(D["a"])(e),"canNavigate",se,Object(D["a"])(e)),Object(M["a"])(Object(D["a"])(e),"lockHover",!1),e}return Object(f["a"])(r,[{key:"setLockHover",value:function(e){this.lockHover=e}},{key:"navigate",value:function(){this.$router.push({name:"Thread",params:{id:this.thread.id}})}},{key:"toggleThreadLock",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={topic:this.thread.topic,isLocked:!this.thread.locked},e.next=3,B("".concat(Vt,"/threads/").concat(this.thread.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:r=e.sent,204===r.status&&(this.thread.locked=!this.thread.locked);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"deleteThread",value:function(){var e={threadId:this.thread.id,forumId:this.thread.forumId};this.$store.dispatch("deleteThread",e)}},{key:"styleObject",get:function(){return{fontSize:this.fontSize+"px"}}},{key:"isModerator",get:function(){return G(this.thread.forumId)}}]),r}(h["c"]),re=oe,ne=Object(S["a"])(re.prototype,"thread",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=Object(S["a"])(re.prototype,"fontSize",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=Object(S["a"])(re.prototype,"canNavigate",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=re))||te),sr=ar,or=sr,ir=(r("0cbd"),Object(y["a"])(or,q,H,!1,null,"84682936",null)),cr=ir.exports,ur=(ie=Object(h["a"])({components:{ThreadItem:cr}}),ce=Object(h["b"])({required:!0}),ie((fe=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(E["a"])(Object(D["a"])(e),"threads",de,Object(D["a"])(e)),e}return r}(h["c"]),le=fe,de=Object(S["a"])(le.prototype,"threads",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=le))||ue),lr=ur,dr=lr,fr=(r("456b"),Object(y["a"])(dr,W,z,!1,null,"124d6ec8",null)),pr=fr.exports,mr=(pe=Object(h["a"])({components:{ThreadList:pr}}),me=Object(h["b"])({default:24}),he=Object(h["b"])({default:!0}),be=Object(h["b"])({required:!0}),ve=Object(h["b"])({default:!1}),pe((ke=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(E["a"])(Object(D["a"])(e),"fontSize",je,Object(D["a"])(e)),Object(E["a"])(Object(D["a"])(e),"canNavigate",ye,Object(D["a"])(e)),Object(E["a"])(Object(D["a"])(e),"forum",we,Object(D["a"])(e)),Object(E["a"])(Object(D["a"])(e),"showDelete",_e,Object(D["a"])(e)),e}return Object(f["a"])(r,[{key:"navigate",value:function(){this.$router.push({name:"Forum",params:{id:this.forum.id}})}},{key:"deleteForum",value:function(){this.$store.dispatch("deleteForum",this.forum.id)}},{key:"styleObject",get:function(){return{fontSize:this.fontSize+"px"}}},{key:"threads",get:function(){var e,t;return null!==(e=this.forum)&&void 0!==e&&null!==(t=e.threads)&&void 0!==t&&t.length?this.forum.threads:[]}},{key:"isAdmin",get:function(){var e;return null===(e=this.$store.state.currentUser)||void 0===e?void 0:e.roles.includes("ADMIN")}}]),r}(h["c"]),Oe=ke,je=Object(S["a"])(Oe.prototype,"fontSize",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=Object(S["a"])(Oe.prototype,"canNavigate",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=Object(S["a"])(Oe.prototype,"forum",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=Object(S["a"])(Oe.prototype,"showDelete",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=Oe))||ge),hr=mr,br=hr,vr=(r("4217"),Object(y["a"])(br,T,L,!1,null,"57e4d2ae",null)),gr=vr.exports,Or=(Ce=Object(h["a"])({components:{ForumItem:gr}}),Ce(xe=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){return Object(d["a"])(this,r),t.apply(this,arguments)}return Object(f["a"])(r,[{key:"created",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchForums");case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"forums",get:function(){return this.$store.state.forums}}]),r}(h["c"]))||xe),jr=Or,yr=jr,wr=(r("5e04"),Object(y["a"])(yr,A,N,!1,null,"0f8e7a83",null)),_r=wr.exports,kr=(Re=Object(h["a"])({components:{ForumList:_r}}),Re($e=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){return Object(d["a"])(this,r),t.apply(this,arguments)}return r}(h["c"]))||$e),Cr=kr,xr=Cr,Rr=(r("9fb3"),Object(y["a"])(xr,P,F,!1,null,"d89ad3c0",null)),$r=Rr.exports,Ur=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"view col center-y"},[r("div",{staticClass:"content"},[r("ForumItem",{attrs:{forum:e.forum,canNavigate:!1}})],1),e.currentUser?r("ThreadForm",{attrs:{canWriteWarning:e.isModerator}}):e._e()],1)},Ir=[],Pr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),r("form",{staticClass:"form col",on:{submit:function(t){return t.preventDefault(),e.createThread()}}},[r("div",{staticClass:"input-fields col"},[r("label",{attrs:{for:"topic-input"}},[e._v("Content")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.thread.topic,expression:"thread.topic"}],staticClass:"input-field",attrs:{id:"topic-input",autofocus:"",required:"",minlength:"3",maxlength:"60"},domProps:{value:e.thread.topic},on:{input:function(t){t.target.composing||e.$set(e.thread,"topic",t.target.value)}}}),r("label",{attrs:{for:"content-input"}},[e._v("Content")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.thread.initialPost.content,expression:"thread.initialPost.content"}],staticClass:"input-field",attrs:{id:"content-input",rows:"4",required:"",minlength:"3"},domProps:{value:e.thread.initialPost.content},on:{input:function(t){t.target.composing||e.$set(e.thread.initialPost,"content",t.target.value)}}}),e.canWriteWarning?r("div",{staticClass:"col"},[r("label",{staticClass:"warning",attrs:{for:"warning-input"}},[e._v("Warning message?")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.thread.initialPost.isWarning,expression:"thread.initialPost.isWarning"}],staticClass:"warning",attrs:{id:"warning-input",type:"checkbox"},domProps:{checked:Array.isArray(e.thread.initialPost.isWarning)?e._i(e.thread.initialPost.isWarning,null)>-1:e.thread.initialPost.isWarning},on:{change:function(t){var r=e.thread.initialPost.isWarning,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);n.checked?o<0&&e.$set(e.thread.initialPost,"isWarning",r.concat([s])):o>-1&&e.$set(e.thread.initialPost,"isWarning",r.slice(0,o).concat(r.slice(o+1)))}else e.$set(e.thread.initialPost,"isWarning",a)}}})]):e._e()]),r("button",{staticClass:"btn submit-btn",attrs:{disabled:e.processing,type:"submit"}},[e._v(" Create post ")])])])},Fr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("h3",[e._v("Create new thread")])])}],Ar=(Ue=Object(h["a"])(),Ie=Object(h["b"])({default:!1}),Ue((Ne=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(E["a"])(Object(D["a"])(e),"canWriteWarning",Ae,Object(D["a"])(e)),Object(M["a"])(Object(D["a"])(e),"processing",!1),Object(M["a"])(Object(D["a"])(e),"thread",{topic:null,initialPost:{content:null,isWarning:!1}}),e}return Object(f["a"])(r,[{key:"createThread",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.processing=!0,t=this.$route.params.id,e.next=4,this.$store.dispatch("createThread",{payload:this.thread,forumId:t});case 4:this.thread.initialPost.content=null,this.thread.topic=null,this.processing=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(h["c"]),Fe=Ne,Ae=Object(S["a"])(Fe.prototype,"canWriteWarning",[Ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=Fe))||Pe),Nr=Ar,Tr=Nr,Lr=(r("63bf"),Object(y["a"])(Tr,Pr,Fr,!1,null,"032f03cb",null)),Er=Lr.exports,Dr=(Te=Object(h["a"])({components:{ForumItem:gr,ThreadForm:Er}}),Te(Le=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){return Object(d["a"])(this,r),t.apply(this,arguments)}return Object(f["a"])(r,[{key:"created",value:function(){var e=this.$route.params.id;this.$store.dispatch("fetchForum",e)}},{key:"forum",get:function(){return this.$store.state.forum}},{key:"currentUser",get:function(){return this.$store.state.currentUser}},{key:"threads",get:function(){return this.forum.threads?this.forum.threads:[]}},{key:"isModerator",get:function(){return G(this.forum.id)}}]),r}(h["c"]))||Le),Mr=Dr,Sr=Mr,Wr=(r("fe47"),Object(y["a"])(Sr,Ur,Ir,!1,null,"f3ec4c3e",null)),zr=Wr.exports,qr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"view col center-y"},[r("div",{staticClass:"content"},[r("div",{staticClass:"header row"},[r("h2",{staticClass:"title"},[e._v(" "+e._s(e.thread.topic)+" "),e.locked?r("LockedThreadMessage"):e._e()],1),r("div",{staticClass:"meta-data row"},[r("span",[e._v(" Created by: "),r("span",{staticClass:"author"},[e._v(e._s(e.author))])]),r("span",[e._v(" Created at: "),r("span",{staticClass:"created"},[e._v(e._s(e.creationDate))])])])]),r("PostList",{attrs:{posts:e.thread.posts}})],1),e.currentUser&&!e.locked?r("PostForm",{attrs:{canWriteWarning:e.userHasModerationRights}}):e._e()],1)},Hr=[],Jr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"post-list"},[r("div",{staticClass:"posts col"},e._l(e.posts,(function(e){return r("PostItem",{key:e.id,attrs:{post:e}})})),1)])},Br=[],Kr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"post"},[r("div",{staticClass:"header row"},[r("span",[e._v(" Author: "),r("span",{staticClass:"author"},[e._v(e._s(e.post.creator.username))])]),r("span",[e._v(" Created: "),r("span",{staticClass:"created"},[e._v(e._s(e.creationDate))])])]),r("div",{staticClass:"content"},[r("p",{staticClass:"message",class:{warning:e.post.warning}},[e._v(e._s(e.post.content))])])])},Gr=[],Qr=(Ee=Object(h["a"])(),De=Object(h["b"])({required:!0}),Ee((ze=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(E["a"])(Object(D["a"])(e),"post",We,Object(D["a"])(e)),e}return Object(f["a"])(r,[{key:"creationDate",get:function(){return new Date(this.post.created).toLocaleString()}}]),r}(h["c"]),Se=ze,We=Object(S["a"])(Se.prototype,"post",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=Se))||Me),Vr=Qr,Xr=Vr,Yr=(r("ed80"),Object(y["a"])(Xr,Kr,Gr,!1,null,"46f30c64",null)),Zr=Yr.exports,en=(qe=Object(h["a"])({components:{PostItem:Zr}}),He=Object(h["b"])({required:!0,default:function(){return[]}}),qe((Ge=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(E["a"])(Object(D["a"])(e),"posts",Ke,Object(D["a"])(e)),e}return r}(h["c"]),Be=Ge,Ke=Object(S["a"])(Be.prototype,"posts",[He],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=Be))||Je),tn=en,rn=tn,nn=(r("ff6c"),Object(y["a"])(rn,Jr,Br,!1,null,"40a832c4",null)),an=nn.exports,sn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),r("form",{staticClass:"form col",on:{submit:function(t){return t.preventDefault(),e.createPost()}}},[r("div",{staticClass:"input-fields col"},[r("label",{attrs:{for:"content-input"}},[e._v("Content")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.post.content,expression:"post.content"}],staticClass:"input-field",attrs:{id:"content-input",rows:"4",minlength:"3",autofocus:"",required:""},domProps:{value:e.post.content},on:{input:function(t){t.target.composing||e.$set(e.post,"content",t.target.value)}}}),e.canWriteWarning?r("div",{staticClass:"col"},[r("label",{staticClass:"warning",attrs:{for:"warning-input"}},[e._v("Warning message?")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.post.isWarning,expression:"post.isWarning"}],staticClass:"warning",attrs:{id:"warning-input",type:"checkbox"},domProps:{checked:Array.isArray(e.post.isWarning)?e._i(e.post.isWarning,null)>-1:e.post.isWarning},on:{change:function(t){var r=e.post.isWarning,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);n.checked?o<0&&e.$set(e.post,"isWarning",r.concat([s])):o>-1&&e.$set(e.post,"isWarning",r.slice(0,o).concat(r.slice(o+1)))}else e.$set(e.post,"isWarning",a)}}})]):e._e()]),r("button",{staticClass:"btn submit-btn",attrs:{disabled:e.processing,type:"submit"}},[e._v(" Create post ")])])])},on=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("h3",[e._v("Create new post")])])}],cn=(Qe=Object(h["a"])(),Ve=Object(h["b"])({default:!1}),Qe((et=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(E["a"])(Object(D["a"])(e),"canWriteWarning",Ze,Object(D["a"])(e)),Object(M["a"])(Object(D["a"])(e),"processing",!1),Object(M["a"])(Object(D["a"])(e),"post",{content:null,isWarning:!1}),e}return Object(f["a"])(r,[{key:"createPost",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.processing=!0,t=this.$route.params.id,e.next=4,this.$store.dispatch("createPost",{payload:this.post,threadId:t});case 4:this.post.content=null,this.post.isWarning=!1,this.processing=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(h["c"]),Ye=et,Ze=Object(S["a"])(Ye.prototype,"canWriteWarning",[Ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe=Ye))||Xe),un=cn,ln=un,dn=(r("03c0"),Object(y["a"])(ln,sn,on,!1,null,"71fe10ab",null)),fn=dn.exports,pn=(tt=Object(h["a"])({components:{PostList:an,PostForm:fn,LockedThreadMessage:nr}}),tt(rt=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){return Object(d["a"])(this,r),t.apply(this,arguments)}return Object(f["a"])(r,[{key:"created",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.id,e.next=3,this.$store.dispatch("fetchThread",t);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"thread",get:function(){return this.$store.state.thread}},{key:"currentUser",get:function(){return this.$store.state.currentUser}},{key:"locked",get:function(){var e;return null===(e=this.thread)||void 0===e?void 0:e.locked}},{key:"author",get:function(){var e,t,r;return null===(e=this.thread)||void 0===e||null===(t=e.initialPost)||void 0===t||null===(r=t.creator)||void 0===r?void 0:r.username}},{key:"creationDate",get:function(){var e,t;return new Date(null===(e=this.thread)||void 0===e||null===(t=e.initialPost)||void 0===t?void 0:t.created).toLocaleString()}},{key:"userHasModerationRights",get:function(){var e,t;return(null===(e=this.currentUser)||void 0===e?void 0:e.roles.includes("ADMIN"))||(null===(t=this.currentUser)||void 0===t?void 0:t.moderates.includes(this.thread.forumId))}}]),r}(h["c"]))||rt),mn=pn,hn=mn,bn=(r("0c73"),Object(y["a"])(hn,qr,Hr,!1,null,"4b90b4b8",null)),vn=bn.exports,gn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"view col center-xy"},[r("form",{staticClass:"login-form form col",on:{submit:function(t){return t.preventDefault(),e.login()}}},[r("div",{staticClass:"input-fields col"},[r("label",{attrs:{for:"username-input"}},[e._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"input-field",attrs:{type:"text",id:"username-input",autofocus:"",required:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),r("label",{attrs:{for:"password-input"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input-field",attrs:{type:"password",id:"password-input",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),r("button",{staticClass:"btn submit-btn",attrs:{disabled:e.processing,type:"submit"}},[e._v(" Login ")]),e.error?r("span",{staticClass:"error"},[e._v(e._s(e.error))]):e._e()]),r("span",{staticClass:"sign-up-link pointer",on:{click:function(t){return e.navigateTo("SignUp")}}},[e._v(" Do not have an account? Click here! ")])])},On=[],jn=(nt=Object(h["a"])(),nt((st=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(M["a"])(Object(D["a"])(e),"processing",!1),Object(M["a"])(Object(D["a"])(e),"username",null),Object(M["a"])(Object(D["a"])(e),"password",null),Object(M["a"])(Object(D["a"])(e),"error",null),e}return Object(f["a"])(r,[{key:"navigateTo",value:function(e){this.$route.name!=e&&this.$router.push({name:e})}},{key:"login",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.error=null,this.processing=!0,e.next=4,this.attemptLogin();case 4:return t=e.sent,e.next=7,this.handleResponse(t);case 7:this.processing=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"attemptLogin",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="username="+encodeURIComponent(this.username)+"&password="+encodeURIComponent(this.password),e.next=3,B(Qt+"/auth/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleResponse",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t.status,e.next=200===e.t0?3:401===e.t0?7:10;break;case 3:return e.next=5,this.$store.dispatch("getCurrentUser");case 5:return this.$router.push({name:"Home"}),e.abrupt("break",13);case 7:return this.error="Username and/or password is wrong.",console.error("Authentication failed."),e.abrupt("break",13);case 10:return this.error="Something went wrong please try again.",console.error("Something went wrong."),e.abrupt("break",13);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(h["c"]),at=st))||at),yn=jn,wn=yn,_n=(r("6b53"),Object(y["a"])(wn,gn,On,!1,null,"e89812f0",null)),kn=_n.exports,Cn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"view col center-xy"},[r("form",{staticClass:"sign-up-form form col",on:{submit:function(t){return t.preventDefault(),e.signUp()}}},[r("div",{staticClass:"input-fields col"},[r("label",{attrs:{for:"username-input"}},[e._v("Username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"input-field",attrs:{type:"text",id:"username-input",autofocus:"",required:"",minlength:"3",maxlength:"40"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),r("label",{attrs:{for:"password-input"}},[e._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input-field",attrs:{type:"password",id:"password-input",required:"",minlength:"6"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),r("label",{attrs:{for:"firstname-input"}},[e._v("First name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],staticClass:"input-field",attrs:{type:"text",id:"firstname-input",required:"",minlength:"1",maxlength:"40"},domProps:{value:e.firstName},on:{input:function(t){t.target.composing||(e.firstName=t.target.value)}}}),r("label",{attrs:{for:"lastname-input"}},[e._v("Last name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],staticClass:"input-field",attrs:{type:"text",id:"lastname-input",required:"",minlength:"1",maxlength:"40"},domProps:{value:e.lastName},on:{input:function(t){t.target.composing||(e.lastName=t.target.value)}}})]),r("button",{staticClass:"btn submit-btn",attrs:{disabled:e.processing,type:"submit"}},[e._v(" Sign up ")])])])},xn=[],Rn=(ot=Object(h["a"])(),ot((ct=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(M["a"])(Object(D["a"])(e),"processing",!1),Object(M["a"])(Object(D["a"])(e),"username",null),Object(M["a"])(Object(D["a"])(e),"password",null),Object(M["a"])(Object(D["a"])(e),"firstName",null),Object(M["a"])(Object(D["a"])(e),"lastName",null),e}return Object(f["a"])(r,[{key:"signUp",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.processing=!0,e.next=3,this.attemptSignUp();case 3:return t=e.sent,e.next=6,this.handleResponse(t);case 6:this.processing=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"attemptSignUp",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={username:this.username,password:this.password,firstName:this.firstName,lastName:this.lastName},e.next=3,B(Vt+"/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleResponse",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t.status,e.next=201===e.t0?3:5;break;case 3:return this.$router.push({name:"Login"}),e.abrupt("break",7);case 5:return console.error("Something went wrong."),e.abrupt("break",7);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(h["c"]),it=ct))||it),$n=Rn,Un=$n,In=(r("e17f"),Object(y["a"])(Un,Cn,xn,!1,null,"1177342e",null)),Pn=In.exports,Fn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"view col center-y"},[r("div",{staticClass:"content"},[e._m(0),r("div",{staticClass:"controls col"},[r("div",{staticClass:"control"},[r("ForumForm")],1),r("div",{staticClass:"control"},[r("FindUsersForm")],1),r("div",{staticClass:"control"},[r("UserList")],1)])])])},An=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("h2",{staticClass:"title"},[e._v("Admin controls")])])}],Nn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),r("form",{staticClass:"forum-form col form",on:{submit:function(t){return t.preventDefault(),e.createForum()}}},[r("div",{staticClass:"input-fields col"},[r("label",{attrs:{for:"name-input"}},[e._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.forum.name,expression:"forum.name"}],staticClass:"input-field",attrs:{id:"name-input",autofocus:"",required:"",minlength:"3",maxlength:"60"},domProps:{value:e.forum.name},on:{input:function(t){t.target.composing||e.$set(e.forum,"name",t.target.value)}}}),r("label",{attrs:{for:"description-input"}},[e._v("Description")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.forum.description,expression:"forum.description"}],staticClass:"input-field",attrs:{id:"description-input",rows:"3",required:""},domProps:{value:e.forum.description},on:{input:function(t){t.target.composing||e.$set(e.forum,"description",t.target.value)}}})]),r("button",{staticClass:"btn submit-btn",attrs:{disabled:e.processing,type:"submit"}},[e._v(" Create forum ")]),e.error?r("span",{staticClass:"error"},[e._v(e._s(e.error))]):e._e()])])},Tn=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("h3",[e._v("Create Forum")])])}],Ln=(r("a4d3"),r("e01a"),ut=Object(h["a"])(),ut((dt=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(M["a"])(Object(D["a"])(e),"processing",!1),Object(M["a"])(Object(D["a"])(e),"error",null),Object(M["a"])(Object(D["a"])(e),"forum",{name:"",description:""}),e}return Object(f["a"])(r,[{key:"createForum",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.error=null,this.processing=!0,e.next=4,B("".concat(Vt,"/forums"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.forum)});case 4:t=e.sent,201!=t.status?(this.error="An error occured. Please try again.",console.error("An error occured when posting new forum.")):(this.forum.name="",this.forum.description=""),this.processing=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(h["c"]),lt=dt))||lt),En=Ln,Dn=En,Mn=(r("282c"),Object(y["a"])(Dn,Nn,Tn,!1,null,"7dc8e898",null)),Sn=Mn.exports,Wn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"find-users-form row",on:{submit:function(t){return t.preventDefault(),e.getUsers()}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"username-input",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),r("button",{staticClass:"btn",attrs:{type:"submit"}},[e._v("Find users")])])},zn=[],qn=(ft=Object(h["a"])(),ft((mt=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(M["a"])(Object(D["a"])(e),"username",""),e}return Object(f["a"])(r,[{key:"getUsers",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchUsers",this.username);case 2:this.username="";case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(h["c"]),pt=mt))||pt),Hn=qn,Jn=Hn,Bn=(r("595f"),Object(y["a"])(Jn,Wn,zn,!1,null,"7199bdd8",null)),Kn=Bn.exports,Gn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user-list col"},[e.users.length?r("div",{staticClass:"users col"},e._l(e.users,(function(e){return r("UserItem",{key:e.id,attrs:{user:e}})})),1):e._e(),e.users.length?e._e():r("div",{staticClass:"users"},[r("span",[e._v("No users to display")])])])},Qn=[],Vn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user col"},[r("div",{staticClass:"user-info row center-y spread"},[r("div",{staticClass:"row center-y"},[r("h3",{staticClass:"username"},[e._v(" "+e._s(e.user.username)+" ")]),r("div",{staticClass:"names col"},[r("span",{staticClass:"firstname"},[e._v(" "+e._s(e.user.firstName)+" ")]),r("span",{staticClass:"lastname"},[e._v(" "+e._s(e.user.lastName)+" ")])])]),e.isCurrentUser?e._e():r("div",{staticClass:"action-btn row center-xy pointer",on:{click:function(t){return e.deleteUser()}}},[r("LockIcon",{attrs:{title:"Delete user",fillColor:"#FF0000"}})],1)]),r("UserControls",{attrs:{user:e.user}})],1)},Xn=[],Yn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"controls col"},[r("div",{staticClass:"control-section"},[r("ModerationControls",{attrs:{user:e.user}})],1),e.isCurrentUser?e._e():r("div",{staticClass:"control-section row admin-controls"},[e.isAdmin?e._e():r("button",{staticClass:"btn",on:{click:function(t){return e.promoteUser()}}},[e._v(" Promote to admin ")]),e.isAdmin?r("button",{staticClass:"btn",on:{click:function(t){return e.demoteUser()}}},[e._v(" Demote admin ")]):e._e()])])},Zn=[],ea=(r("ac1f"),r("5319"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"moderation-controls col"},[r("h4",{staticClass:"title"},[e._v("Moderation controls")]),r("div",{staticClass:"row spread"},[e.user.moderates.length?r("ul",{staticClass:"moderates-list col"},[r("h5",{staticClass:"subtitle"},[e._v("Moderates:")]),e._l(e.user.moderates,(function(t){return r("li",{key:t,staticClass:"row center-y"},[r("div",{staticClass:"list-marker"}),r("span",[e._v(e._s(e.getForumName(t)))])])}))],2):e._e(),e.user.moderates.length?e._e():r("h5",{staticClass:"subtitle"},[e._v(" User is not moderating any forums ")]),r("div",{staticClass:"manage-moderation-rights col"},[r("div",{staticClass:"add-moderator"},[r("AddModeratorForm",{attrs:{user:e.user}})],1),r("RemoveModeratorForm",{attrs:{user:e.user}})],1)])])}),ta=[],ra=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col"},[r("h5",{staticClass:"subtitle"},[e._v("Promote user to moderator")]),r("form",{staticClass:"row",on:{submit:function(t){return t.preventDefault(),e.addUserAsModerator()}}},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.promoteForumId,expression:"promoteForumId"}],staticClass:"forum-dropdown",attrs:{name:"forum",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.promoteForumId=t.target.multiple?r:r[0]}}},[r("option",{domProps:{value:null}}),e._l(e.unModeratedForums,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2),r("button",{staticClass:"btn",attrs:{type:"submit",disabled:e.processingPromotion}},[e._v(" Promote ")])])])},na=[],aa=(ht=Object(h["a"])(),bt=Object(h["b"])({required:!0}),ht((jt=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(E["a"])(Object(D["a"])(e),"user",Ot,Object(D["a"])(e)),Object(M["a"])(Object(D["a"])(e),"promoteForumId",null),Object(M["a"])(Object(D["a"])(e),"processingPromotion",!1),e}return Object(f["a"])(r,[{key:"addUserAsModerator",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.processingPromotion=!0,e.next=3,this.$store.dispatch("addModerator",{userId:this.user.id,forumId:this.promoteForumId});case 3:this.promoteForumId=null,this.processingPromotion=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"unModeratedForums",get:function(){var e=this;return this.$store.state.forums.filter((function(t){return!e.user.moderates.includes(t.id)}))}}]),r}(h["c"]),gt=jt,Ot=Object(S["a"])(gt.prototype,"user",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vt=gt))||vt),sa=aa,oa=sa,ia=(r("9e4b"),Object(y["a"])(oa,ra,na,!1,null,"e716d11e",null)),ca=ia.exports,ua=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col"},[r("h5",{staticClass:"subtitle"},[e._v("Remove user as moderator")]),r("form",{staticClass:"row",on:{submit:function(t){return t.preventDefault(),e.removeUserAsModerator()}}},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.demoteForumId,expression:"demoteForumId"}],staticClass:"forum-dropdown",attrs:{name:"forum",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.demoteForumId=t.target.multiple?r:r[0]}}},[r("option",{domProps:{value:null}}),e._l(e.moderatedForums,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2),r("button",{staticClass:"btn",attrs:{type:"submit",disabled:e.processingDemotion}},[e._v(" Demote ")])])])},la=[],da=(yt=Object(h["a"])(),wt=Object(h["b"])({required:!0}),yt((xt=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(E["a"])(Object(D["a"])(e),"user",Ct,Object(D["a"])(e)),Object(M["a"])(Object(D["a"])(e),"demoteForumId",null),Object(M["a"])(Object(D["a"])(e),"processingDemotion",!1),e}return Object(f["a"])(r,[{key:"removeUserAsModerator",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.processingDemotion=!0,e.next=3,this.$store.dispatch("deleteModerator",{userId:this.user.id,forumId:this.demoteForumId});case 3:this.demoteForumId=null,this.processingDemotion=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"moderatedForums",get:function(){var e=this;return this.$store.state.forums.filter((function(t){return e.user.moderates.includes(t.id)}))}}]),r}(h["c"]),kt=xt,Ct=Object(S["a"])(kt.prototype,"user",[wt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_t=kt))||_t),fa=da,pa=fa,ma=(r("1b99"),Object(y["a"])(pa,ua,la,!1,null,"c050adac",null)),ha=ma.exports,ba=(Rt=Object(h["a"])({components:{AddModeratorForm:ca,RemoveModeratorForm:ha}}),$t=Object(h["b"])({required:!0}),Rt((Ft=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(E["a"])(Object(D["a"])(e),"user",Pt,Object(D["a"])(e)),e}return Object(f["a"])(r,[{key:"getForumName",value:function(e){var t=this.$store.state.forums.find((function(t){return t.id===e}));return t.name}}]),r}(h["c"]),It=Ft,Pt=Object(S["a"])(It.prototype,"user",[$t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ut=It))||Ut),va=ba,ga=va,Oa=(r("d77c"),Object(y["a"])(ga,ea,ta,!1,null,"42674316",null)),ja=Oa.exports,ya=(At=Object(h["a"])({components:{ModerationControls:ja}}),Nt=Object(h["b"])({required:!0}),At((Dt=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(E["a"])(Object(D["a"])(e),"user",Et,Object(D["a"])(e)),e}return Object(f["a"])(r,[{key:"promoteUser",value:function(){this.updateUser(this.user.roles+",ADMIN")}},{key:"demoteUser",value:function(){this.updateUser(this.user.roles.replace(",ADMIN",""))}},{key:"updateUser",value:function(e){var t={userId:this.user.id,payload:{roles:e}};this.$store.dispatch("updateUser",t)}},{key:"isAdmin",get:function(){return this.user.roles.includes("ADMIN")}},{key:"isCurrentUser",get:function(){var e;return this.user.id===(null===(e=this.$store.state.currentUser)||void 0===e?void 0:e.id)}}]),r}(h["c"]),Lt=Dt,Et=Object(S["a"])(Lt.prototype,"user",[Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tt=Lt))||Tt),wa=ya,_a=wa,ka=(r("a5f2"),Object(y["a"])(_a,Yn,Zn,!1,null,null,null)),Ca=ka.exports,xa=(Mt=Object(h["a"])({components:{UserControls:Ca}}),St=Object(h["b"])({required:!0}),Mt((Ht=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){var e;Object(d["a"])(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a)),Object(E["a"])(Object(D["a"])(e),"user",qt,Object(D["a"])(e)),e}return Object(f["a"])(r,[{key:"deleteUser",value:function(){this.$store.dispatch("deleteUser",this.user.id)}},{key:"isCurrentUser",get:function(){var e;return(null===(e=this.$store.state.currentUser)||void 0===e?void 0:e.id)===this.user.id}}]),r}(h["c"]),zt=Ht,qt=Object(S["a"])(zt.prototype,"user",[St],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=zt))||Wt),Ra=xa,$a=Ra,Ua=(r("db85"),Object(y["a"])($a,Vn,Xn,!1,null,"dfd58584",null)),Ia=Ua.exports,Pa=(Jt=Object(h["a"])({components:{UserItem:Ia}}),Jt(Bt=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){return Object(d["a"])(this,r),t.apply(this,arguments)}return Object(f["a"])(r,[{key:"users",get:function(){return this.$store.state.userResults}}]),r}(h["c"]))||Bt),Fa=Pa,Aa=Fa,Na=(r("80c4"),Object(y["a"])(Aa,Gn,Qn,!1,null,"65963344",null)),Ta=Na.exports,La=(Kt=Object(h["a"])({components:{FindUsersForm:Kn,UserList:Ta,ForumForm:Sn}}),Kt(Gt=function(e){Object(p["a"])(r,e);var t=Object(m["a"])(r);function r(){return Object(d["a"])(this,r),t.apply(this,arguments)}return Object(f["a"])(r,[{key:"created",value:function(){}},{key:"destroyed",value:function(){this.$store.commit("setUserResults",[])}},{key:"currentUser",get:function(){return this.$store.state.currentUser}},{key:"userResults",get:function(){return this.$store.state.userResults}}]),r}(h["c"]))||Gt),Ea=La,Da=Ea,Ma=(r("dd4f"),Object(y["a"])(Da,Fn,An,!1,null,"0baec40a",null)),Sa=Ma.exports;i["a"].use(I["a"]);var Wa=[{path:"/",name:"Home",component:$r},{path:"/forum/:id",name:"Forum",component:zr},{path:"/thread/:id",name:"Thread",component:vn},{path:"/login",name:"Login",component:kn},{path:"/signup",name:"SignUp",component:Pn},{path:"/admin",name:"Admin",component:Sa},{path:"*",component:$r}],za=new I["a"]({mode:"history",base:"/",routes:Wa}),qa=za;i["a"].use(U["a"]);var Ha=new U["a"].Store({state:{currentUser:null,forum:{},forums:[],thread:{},userResults:[]},mutations:{setCurrentUser:function(e,t){e.currentUser=t},setForum:function(e,t){e.forum=t},setForums:function(e,t){e.forums=t},setThread:function(e,t){e.thread=t},setUserResults:function(e,t){e.userResults=t},addThread:function(e,t){e.forum.id===t.forumId&&e.forum.threads.push(t)},addPost:function(e,t){e.thread.id===t.threadId&&e.thread.posts.push(t)},deleteForum:function(e,t){e.forums=e.forums.filter((function(e){return e.id!=t})),e.forum.id===t&&(e.forum={})},removeThread:function(e,t){Object.keys(e.forum).length&&(e.forum.threads=e.forum.threads.filter((function(e){return e.id!=t.threadId})));var r=e.forums.find((function(e){return e.id===t.forumId}));r&&(r.threads=r.threads.filter((function(e){return e.id!=t.threadId})))},addModerator:function(e,t){var r=e.userResults.find((function(e){return e.id===t.userId}));r&&r.moderates.push(t.forumId)},deleteModerator:function(e,t){var r=e.userResults.find((function(e){return e.id===t.userId}));r&&(r.moderates=r.moderates.filter((function(e){return e!==t.forumId})))},setUserRoles:function(e,t){var r=e.userResults.find((function(e){return e.id===t.userId}));r&&(r.roles=t.roles)},deleteUser:function(e,t){e.userResults=e.userResults.filter((function(e){return e.id!==t}))}},actions:{getCurrentUser:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,B(Qt+"/auth/login");case 3:return n=t.sent,t.prev=4,t.next=7,n.json();case 7:a=t.sent,r("setCurrentUser",a),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),console.log("Not authenticated.");case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()},logout:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,B(Qt+"/auth/logout");case 3:r("setCurrentUser",null),"Home"!=qa.currentRoute.name&&qa.push({name:"Home"});case 5:case"end":return t.stop()}}),t)})))()},fetchForum:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,B("".concat(Vt,"/forums/").concat(t));case 3:return a=r.sent,r.prev=4,r.next=7,a.json();case 7:s=r.sent,n("setForum",s),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](4),console.error("An error occured while loading the threads.");case 14:case"end":return r.stop()}}),r,null,[[4,11]])})))()},fetchForums:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,B("".concat(Vt,"/forums"));case 3:return n=t.sent,t.prev=4,t.next=7,n.json();case 7:a=t.sent,r("setForums",a),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),console.error("An error occured while loading the forums");case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()},fetchThread:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,B("".concat(Vt,"/threads/").concat(t));case 3:if(a=r.sent,200!==a.status){r.next=11;break}return r.next=7,a.json();case 7:s=r.sent,n("setThread",s),r.next=12;break;case 11:console.error("An error occured when trying to fetch thread.");case 12:case"end":return r.stop()}}),r)})))()},fetchUsers:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,B("".concat(Vt,"/users?username=").concat(t));case 3:return a=r.sent,r.prev=4,r.next=7,a.json();case 7:s=r.sent,n("setUserResults",s),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](4),console.error("An error occured while loading the users");case 14:case"end":return r.stop()}}),r,null,[[4,11]])})))()},createThread:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n,a,s,o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=t.payload,s=t.forumId,r.next=4,B("".concat(Vt,"/forums/").concat(s,"/threads"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:if(o=r.sent,201!==o.status){r.next=12;break}return r.next=8,o.json();case 8:i=r.sent,n("addThread",i),r.next=13;break;case 12:console.error("An error occured when trying to create thread.");case 13:case"end":return r.stop()}}),r)})))()},createPost:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n,a,s,o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=t.payload,s=t.threadId,r.next=4,B("".concat(Vt,"/threads/").concat(s,"/posts"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 4:if(o=r.sent,201!==o.status){r.next=12;break}return r.next=8,o.json();case 8:i=r.sent,n("addPost",i),r.next=13;break;case 12:console.error("An error occured when trying create post.");case 13:case"end":return r.stop()}}),r)})))()},deleteForum:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,B("".concat(Vt,"/forums/").concat(t),{method:"DELETE"});case 3:a=r.sent,204===a.status?n("deleteForum",t):console.error("An error occuren when trying to delete forum.");case 5:case"end":return r.stop()}}),r)})))()},deleteThread:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,B("".concat(Vt,"/threads/").concat(t.threadId),{method:"DELETE"});case 3:a=r.sent,204===a.status&&n("removeThread",t);case 5:case"end":return r.stop()}}),r)})))()},addModerator:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n,a,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=t.userId,s=t.forumId,r.next=4,B("".concat(Vt,"/forums/").concat(s,"/moderators/").concat(a),{method:"POST"});case 4:o=r.sent,204===o.status?n("addModerator",{userId:a,forumId:s}):console.error("An error occured when trying to add moderator.");case 6:case"end":return r.stop()}}),r)})))()},deleteModerator:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n,a,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=t.userId,s=t.forumId,r.next=4,B("".concat(Vt,"/forums/").concat(s,"/moderators/").concat(a),{method:"DELETE"});case 4:o=r.sent,204===o.status?n("deleteModerator",{userId:a,forumId:s}):console.error("An error occured when trying to delete moderator.");case 6:case"end":return r.stop()}}),r)})))()},updateUser:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n,a,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=t.userId,s=t.payload,r.next=4,B("".concat(Vt,"/users/").concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 4:o=r.sent,204===o.status?n("setUserRoles",{userId:a,roles:s.roles}):console.error("An error occured when trying to update user.");case 6:case"end":return r.stop()}}),r)})))()},deleteUser:function(e,t){return Object(l["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,r.next=3,B("".concat(Vt,"/users/").concat(t),{method:"DELETE"});case 3:a=r.sent,204===a.status?n("deleteUser",t):console.error("An error occured when trying to delete user.");case 5:case"end":return r.stop()}}),r)})))()}},getters:{currentUser:function(e){return e.currentUser}}}),Ja=r("b141"),Ba=r("6c9d"),Ka=r("0647");i["a"].component("LockIcon",Ja["a"]),i["a"].component("LockOpenIcon",Ba["a"]),i["a"].component("DeleteIcon",Ka["a"]),i["a"].config.productionTip=!1,new i["a"]({router:qa,store:Ha,render:function(e){return e($)}}).$mount("#app")},"595f":function(e,t,r){"use strict";r("faf8")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"5e04":function(e,t,r){"use strict";r("9185")},"63bf":function(e,t,r){"use strict";r("3d92")},"67c3":function(e,t,r){},"6b53":function(e,t,r){"use strict";r("2e64")},"6dff":function(e,t,r){},"700e":function(e,t,r){},"788f":function(e,t,r){"use strict";r("c6f0")},"80c4":function(e,t,r){"use strict";r("11ea")},8306:function(e,t,r){},"85f0":function(e,t,r){},"89d1":function(e,t,r){},9185:function(e,t,r){},"9c0c":function(e,t,r){},"9e4b":function(e,t,r){"use strict";r("89d1")},"9fb3":function(e,t,r){"use strict";r("fb09")},a5f2:function(e,t,r){"use strict";r("85f0")},aef9:function(e,t,r){},b09d:function(e,t,r){},b81f:function(e,t,r){},c54c:function(e,t,r){},c6f0:function(e,t,r){},ce4f:function(e,t,r){},cf61:function(e,t,r){},d547:function(e,t,r){},d77c:function(e,t,r){"use strict";r("b09d")},db85:function(e,t,r){"use strict";r("b81f")},dd4f:function(e,t,r){"use strict";r("ce4f")},df4e:function(e,t,r){"use strict";r("cf61")},e17f:function(e,t,r){"use strict";r("d547")},ed80:function(e,t,r){"use strict";r("aef9")},faf8:function(e,t,r){},fb09:function(e,t,r){},fb6f:function(e,t,r){},fe47:function(e,t,r){"use strict";r("17a6")},ff6c:function(e,t,r){"use strict";r("fb6f")}});
//# sourceMappingURL=app.7defccd3.js.map